{
  "swagger": "2.0",
  "info": {
    "title": "Приложение для знакомств. Сервис мэтчей",
    "description": "Сервис мэтчей для приложения, которое позволяет людям искать людей для знакомств",
    "version": "1.0.0"
  },
  "tags": [
    {
      "name": "MatchingService"
    }
  ],
  "host": "127.0.0.1:7001",
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/CreateMatchV1": {
      "post": {
        "summary": "Создание мэтча",
        "description": "Принимает важные поля для создания мэтча",
        "operationId": "MatchingService_CreateMatchV1",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/backendCreateMatchV1Response"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/backendCreateMatchV1Request"
            }
          }
        ],
        "tags": [
          "MatchingService"
        ],
        "security": [
          {
            "api-token": []
          }
        ]
      }
    },
    "/v1/DeleteMatchV1": {
      "post": {
        "summary": "Удаление мэтча",
        "description": "Принимает важные поля для удаления мэтча",
        "operationId": "MatchingService_DeleteMatchV1",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/backendDeleteMatchV1Response"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/backendDeleteMatchV1Request"
            }
          }
        ],
        "tags": [
          "MatchingService"
        ],
        "security": [
          {
            "api-token": []
          }
        ]
      }
    },
    "/v1/FetchIncomingMatchesV1": {
      "post": {
        "summary": "Синхронизация входящих мэтчей",
        "description": "Принимает важные поля для синхронизации входящих мэтчей",
        "operationId": "MatchingService_FetchIncomingMatchesV1",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/backendFetchIncomingMatchesV1Response"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/backendFetchIncomingMatchesV1Request"
            }
          }
        ],
        "tags": [
          "MatchingService"
        ],
        "security": [
          {
            "api-token": []
          }
        ]
      }
    },
    "/v1/FetchMatchesV1": {
      "post": {
        "summary": "Синхронизация мэтчей",
        "description": "Принимает важные поля для синхронизации мэтчей",
        "operationId": "MatchingService_FetchMatchesV1",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/backendFetchMatchesV1Response"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/backendFetchMatchesV1Request"
            }
          }
        ],
        "tags": [
          "MatchingService"
        ],
        "security": [
          {
            "api-token": []
          }
        ]
      }
    },
    "/v1/FetchOutgoingMatchesV1": {
      "post": {
        "summary": "Синхронизация исходящих мэтчей",
        "description": "Принимает важные поля для синхронизации исходящих мэтчей",
        "operationId": "MatchingService_FetchOutgoingMatchesV1",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/backendFetchOutgoingMatchesV1Response"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/backendFetchOutgoingMatchesV1Request"
            }
          }
        ],
        "tags": [
          "MatchingService"
        ],
        "security": [
          {
            "api-token": []
          }
        ]
      }
    },
    "/v1/UpdateMatchV1": {
      "post": {
        "summary": "Обновление мэтча",
        "description": "Принимает важные поля для обновления мэтча",
        "operationId": "MatchingService_UpdateMatchV1",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/backendUpdateMatchV1Response"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/backendUpdateMatchV1Request"
            }
          }
        ],
        "tags": [
          "MatchingService"
        ],
        "security": [
          {
            "api-token": []
          }
        ]
      }
    }
  },
  "definitions": {
    "backendCreateMatchV1Request": {
      "type": "object",
      "properties": {
        "mainUserId": {
          "type": "string",
          "format": "int64"
        },
        "chosenUserId": {
          "type": "string",
          "format": "int64"
        }
      },
      "required": [
        "mainUserId",
        "chosenUserId"
      ]
    },
    "backendCreateMatchV1Response": {
      "type": "object",
      "properties": {
        "match": {
          "$ref": "#/definitions/backendMatch"
        }
      }
    },
    "backendDeleteMatchV1Request": {
      "type": "object",
      "properties": {
        "mainUserId": {
          "type": "string",
          "format": "int64"
        },
        "chosenUserId": {
          "type": "string",
          "format": "int64"
        }
      },
      "required": [
        "mainUserId",
        "chosenUserId"
      ]
    },
    "backendDeleteMatchV1Response": {
      "type": "object"
    },
    "backendFetchIncomingMatchesV1Request": {
      "type": "object",
      "properties": {
        "chosenUserId": {
          "type": "string",
          "format": "int64"
        },
        "limit": {
          "type": "integer",
          "format": "int32"
        },
        "offset": {
          "type": "integer",
          "format": "int32"
        }
      },
      "required": [
        "chosenUserId",
        "limit",
        "offset"
      ]
    },
    "backendFetchIncomingMatchesV1Response": {
      "type": "object",
      "properties": {
        "match": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/backendMatch"
          }
        }
      }
    },
    "backendFetchMatchesV1Request": {
      "type": "object",
      "properties": {
        "mainUserId": {
          "type": "string",
          "format": "int64"
        },
        "limit": {
          "type": "integer",
          "format": "int32"
        },
        "offset": {
          "type": "integer",
          "format": "int32"
        }
      },
      "required": [
        "mainUserId",
        "limit",
        "offset"
      ]
    },
    "backendFetchMatchesV1Response": {
      "type": "object",
      "properties": {
        "match": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/backendMatch"
          }
        }
      }
    },
    "backendFetchOutgoingMatchesV1Request": {
      "type": "object",
      "properties": {
        "mainUserId": {
          "type": "string",
          "format": "int64"
        },
        "limit": {
          "type": "integer",
          "format": "int32"
        },
        "offset": {
          "type": "integer",
          "format": "int32"
        }
      },
      "required": [
        "mainUserId",
        "limit",
        "offset"
      ]
    },
    "backendFetchOutgoingMatchesV1Response": {
      "type": "object",
      "properties": {
        "match": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/backendMatch"
          }
        }
      }
    },
    "backendMatch": {
      "type": "object",
      "properties": {
        "mainUserId": {
          "type": "string",
          "format": "int64"
        },
        "chosenUserId": {
          "type": "string",
          "format": "int64"
        },
        "approved": {
          "type": "boolean"
        }
      }
    },
    "backendUpdateMatchV1Request": {
      "type": "object",
      "properties": {
        "mainUserId": {
          "type": "string",
          "format": "int64"
        },
        "chosenUserId": {
          "type": "string",
          "format": "int64"
        },
        "approved": {
          "type": "boolean"
        }
      },
      "required": [
        "mainUserId",
        "chosenUserId",
        "approved"
      ]
    },
    "backendUpdateMatchV1Response": {
      "type": "object",
      "properties": {
        "match": {
          "$ref": "#/definitions/backendMatch"
        }
      }
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    }
  },
  "securityDefinitions": {
    "api-token": {
      "type": "apiKey",
      "description": "Токен авторизации",
      "name": "x-api-token",
      "in": "header"
    }
  }
}
